<!-- 2:54pm -->

<!DOCTYPE html>
<html lang="en">

<head>
    <title>Home Page</title>
    <link rel="stylesheet" href="style.css">
</head>

<body>
    <div class="doc">
        <h1>To Do List</h1>

        <p id="stats"></p>

        <form method="POST" id="addTaskForm" class="addTask">
            <input type="text" id="taskTitle" placeholder="Task Title..." class="addTask" required>
            <button type="button" id="addTaskButton">Add</button>
            <button type="button" id="clear">Clear List</button>
            <button type="button" id="showAllTasks">Show All Tasks</button>
            <button type="button" id="showRed">Show InCompleted Tasks</button>
            <button type="button" id="showGreen">Show Completed Tasks</button>
            <!-- <button type = "button" id="remove">Remove Item</button> -->
        </form>

        <!-- <form id = "removeTaskForm">
            <button type = "button" id = "hideRemoveTaskButton">Back</button>
            <input type = "text" id = "removeTask" placeholder="Remove Task..." class = "removeTask" required>
            <button type = "button" id = "removeTaskButton">Remove</button>
        </form> -->

        <p class="lines" id="lines"></p>

        <ul id="list"></ul>

        <ul id="red"></ul>

        <ul id="green"></ul>

    </div>

    <script>
        ////
        const taskArray = [];
        completed = false;
        selected = false;
        remove = false;
        const red = [];
        const green = [];
        ////

        ////
        function addTask() {
            let eventName = document.getElementById("taskTitle").value;
            if (eventName == "") {
                alert("Task Cannot Be Empty")
                return;
            }
            taskArray.push(eventName);
            let li = document.createElement("li");
            let tag = document.createTextNode(eventName);
            li.id = eventName;
            li.appendChild(tag);
            document.getElementById("list").append(li);
            document.getElementById(li.id).addEventListener("click", clicked);
            addTaskToRed(eventName);

        //     red.push(eventName);
        //     document.getElementById("red").append(li);
        //     redL = red.length;
        //     greenL = green.length;
        //     document.getElementById("stats").innerHTML = "Incomplete: " + redL + " | Complete: " + greenL;
            redL = red.length;
            greenL = green.length;
            document.getElementById("stats").innerHTML = "Incomplete: " + redL + " | Complete: " + greenL;
        }
        ////


        ////
        function addTaskToRed(eventName) {
            for(let i = 0; i < green.length; ++i){
                if(green[i].id == eventName){
                    green[i] = "";

                }
            }
            red.push(eventName);
            let li = document.createElement("li");
            let tag = document.createTextNode(eventName);
            li.id = eventName;
            li.appendChild(tag);
            document.getElementById("red").append(li);
            document.getElementById(li.id).addEventListener("click", clicked);

            // red.push(eventName);
            // document.getElementById("red").append(li);
        }
        ////

        ////
        function redTOgreen(eventName) {
            for(let i = 0; i < red.length; ++i){
                if(red[i] == eventName){
                    alert("true!");
                    red[i].pop;
                }
            }
            green.push(eventName);
            let li = document.createElement("li");
            let tag = document.createTextNode(eventName);
            li.id = eventName + "s";
            li.appendChild(tag);
            document.getElementById("green").append(li);
            document.getElementById(eventName).style.color = "#6acd00";
            document.getElementById(eventName).style.textDecoration = "line-through";
            document.getElementById(li.id).addEventListener("click", clicked);
            // redL = red.length;
            // greenL = green.length;
            document.getElementById("stats").innerHTML = "Incomplete: " + redL + " | Complete: " + greenL;
        }
        ////

        // ////
        // function greenTOred(eventName) {
        //     let a = green.indexOf(eventName);
        //     alert(a);
        //     green.splice(a, 1);
        //     // green.push(eventName);
        //     // let li = document.createElement("li");
        //     // let tag = document.createTextNode(eventName);
        //     // li.id = eventName;
        //     // li.appendChild(tag);
        //     // document.getElementById("green").append(li);
        //     // document.getElementById(li.id).addEventListener("click", clicked);

        //     // redL = red.length;
        //     // greenL = green.length;
        //     // document.getElementById("stats").innerHTML = "Incomplete: " + redL + " | Complete: " + greenL;
        // }
        // ////

        ////
        function clicked() {
            name = this.id;
            if (completed) {
                completed = false;
                document.getElementById(name).style.color = "#cd0000";
                document.getElementById(name).style.textDecoration = "none";
                greenTOred(name);
                // let li = document.createElement("li");
                // let tag = document.createTextNode(name);
                // li.id = name;
                // li.appendChild(tag);
                // document.getElementById(li.id).addEventListener("click", clicked);
            }
            else {
                // alert(red);
                // alert(taskArray.length);
                // alert(green);
                completed = true;
                redTOgreen(name);
                document.getElementById(name).style.color = "#6acd00";
                document.getElementById(name).style.textDecoration = "line-through";
                // document.getElementById("green").append(name);
                // document.getElementById("stats").innerHTML = "Incomplete: " + red + " | Complete: " + green;
            }
        }
        ////
        function clearList() {
            if (taskArray.length > 0) {
                taskArray = "";
            }
            else {
                alert("Cannot clear an empty list");
                return;
            }
        }
        ////

        ////
        function viewF() {
            // for(let i = 0; i < red.)
        }
        function showAllTasks() {
            document.getElementById("list").style.display = "block";
            document.getElementById("red").style.display = "none";
            document.getElementById("green").style.display = "none";
        }
        function showRed() {
            document.getElementById("list").style.display = "none";
            document.getElementById("red").style.display = "block";
            document.getElementById("green").style.display = "none";
        }
        function showGreen() {
            document.getElementById("list").style.display = "none";
            document.getElementById("red").style.display = "none";
            document.getElementById("green").style.display = "block";
        }

        document.getElementById("addTaskButton").addEventListener("click", addTask);
        document.getElementById("clear").addEventListener("click", clearList);
        document.getElementById("showAllTasks").addEventListener("click", showAllTasks);
        document.getElementById("showRed").addEventListener("click", showRed);
        document.getElementById("showGreen").addEventListener("click", showGreen);
        document.getElementById("green").style.display = "none";
        document.getElementById("red").style.display = "none";
        document.getElementById("list").style.display = "block";

    </script>
</body>

</html>