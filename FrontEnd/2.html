<!-- 4:47pm -->

<!DOCTYPE html>
<html lang="en">

<head>
    <title>Home Page</title>
    <link rel="stylesheet" href="style.css">
</head>

<body>
    <div class="doc">
        <h1 id = "td">To Do List - All Tasks</h1>
        <h1 id = "ct">To Do List - Completed Tasks</h1>
        <h1 id = "ict">To Do List - Incompleted Tasks</h1>

        <p id="stats"></p>

        <form method="POST" id="addTaskForm" class="addTask">
            <input type="text" id="taskTitle" placeholder="Task Title..." class="addTask" required>
            <button type="button" id="addTaskButton">Add</button>
            <button type="button" id="clear">Clear List</button>
            <br>
            <button type="button" id="showAllTasks">Show All Tasks</button>
            <button type="button" id="showRed">Show Incompleted Tasks</button>
            <button type="button" id="showGreen">Show Completed Tasks</button>
        </form>

        <p class="lines" id="lines"></p>

        <ul id="list"></ul>

        <ul id="red"></ul>

        <ul id="green"></ul>

    </div>

    <script>
        ////
        const taskArray = [];
        completed = false;
        selected = false;
        remove = false;
        const red = [];
        const green = [];
        ////

        ////
        function addTask() {
            let eventName = document.getElementById("taskTitle").value;
            if (eventName == "") {
                alert("Task Cannot Be Empty")
                return;
            }
            taskArray.push(eventName);
            let li = document.createElement("li");
            let tag = document.createTextNode(eventName);
            li.id = eventName;
            li.appendChild(tag);
            document.getElementById("list").append(li);
            document.getElementById(li.id).addEventListener("click", clicked);
            addTaskToRed(eventName);
        console.log("1: RedL :" + red.length+ " GreenL :" + green.length);
            document.getElementById("stats").innerHTML = "Incomplete: " + red.length + " | Complete: " + green.length;
        }
        ////

        ////
        function addTaskToRed(eventName) {
            red.push(eventName);
            let li = document.createElement("li");
            let tag = document.createTextNode(eventName);
            li.id = eventName + "r";
            li.appendChild(tag);
            document.getElementById("red").append(li);
            document.getElementById(li.id).addEventListener("click", clicked);
        }
        ////

        // ////
        // function addTaskToGreen(eventName) {
        //     red.push(eventName);
        //     let li = document.createElement("li");
        //     let tag = document.createTextNode(eventName);
        //     li.id = eventName + "r";
        //     li.appendChild(tag);
        //     document.getElementById("red").append(li);
        //     document.getElementById(li.id).addEventListener("click", clicked);
        // }
        // ////

        ////
        function redTOgreen(eventName) {
            let index = red.indexOf(eventName);
            green.push(eventName);
            let li = document.createElement("li");
            let tag = document.createTextNode(eventName);
            li.id = eventName + "g"
            li.appendChild(tag);

            const element = document.getElementById(eventName + "r");
            element.remove();
            // red.length -= 1;
            // alert(red.length);

            document.getElementById("green").append(li);
            document.getElementById(eventName).style.color = "#6acd00";
            document.getElementById(eventName).style.textDecoration = "line-through";
            document.getElementById(li.id).addEventListener("click", clicked);

            console.log("2: RedL :" + red.length + " GreenL :" + green.length);
            document.getElementById("stats").innerHTML = "Incomplete: " + red.length + " | Complete: " + green.length;
        }
        ////

        ////
        function greenTOred(eventName) {
            let index = green.indexOf(eventName);
            red.push(eventName);
            let li = document.createElement("li");
            let tag = document.createTextNode(eventName);
            li.id = eventName + "r";
            li.appendChild(tag);

            if(green.length <= 1){
            //     document.getElementById("green").innerHTML = "";
            //     taskArray.splice(0, green.length);
                // red.length = 0;
                // green.length = 0;
            }

            const element = document.getElementById(eventName + "g");
            element.remove();

            document.getElementById("red").append(li);
            document.getElementById(eventName).style.color = "#6acd00";
            document.getElementById(eventName).style.textDecoration = "line-through";
            document.getElementById(li.id).addEventListener("click", clicked);

            console.log("3: RedL :" + red.length + " GreenL :" + green.length);
            document.getElementById("stats").innerHTML = "Incomplete: " + red.length + " | Complete: " + green.length;
        }
        ////

        ////
        function clicked() {
            name = this.id;
            if (completed) {
                completed = false;
                greenTOred(name);
                document.getElementById(name).style.color = "#cd0000";
                document.getElementById(name).style.textDecoration = "none";
                green.length -= 1;

            console.log("4: RedL :" + red.length + " GreenL :" + green.length);
                document.getElementById("stats").innerHTML = "Incomplete: " + red.length + " | Complete: " + green.length;
            }
            else {
                completed = true;
                redTOgreen(name);
                document.getElementById(name).style.color = "#6acd00";
                document.getElementById(name).style.textDecoration = "line-through";
                red.length -= 1;

            console.log("5: RedL :" + red.length + " GreenL :" + green.length);
                document.getElementById("stats").innerHTML = "Incomplete: " + red.length + " | Complete: " + green.length;
            }
        }
        ////
        function clearList() {
            if (taskArray.length > 0) {
                taskArray.splice(0, taskArray.length);
                document.getElementById("list").innerHTML = "";
                taskArray.splice(0, red.length);
                document.getElementById("red").innerHTML = "";
                taskArray.splice(0, green.length);
                document.getElementById("green").innerHTML = "";
                red.length = 0;
                green.length = 0;

            console.log("6: RedL :" + red.length + " GreenL :" + green.length);
                document.getElementById("stats").innerHTML = "Incomplete: " + red.length + " | Complete: " + green.length;

            }
            else {
                alert("Cannot clear an empty list");
                return;
            }
        }
        ////

        ////
        function viewF() {
            // for(let i = 0; i < red.)
        }
        function showAllTasks() {
            document.getElementById("list").style.display = "block";
            document.getElementById("red").style.display = "none";
            document.getElementById("green").style.display = "none";
            document.getElementById("td").style.display = "block";
            document.getElementById("ct").style.display = "none";
            document.getElementById("ict").style.display = "none";
        }
        function showRed() {
            document.getElementById("list").style.display = "none";
            document.getElementById("red").style.display = "block";
            document.getElementById("green").style.display = "none";
            document.getElementById("td").style.display = "none";
            document.getElementById("ict").style.display = "block";
            document.getElementById("ct").style.display = "none";
        }
        function showGreen() {
            document.getElementById("list").style.display = "none";
            document.getElementById("red").style.display = "none";
            document.getElementById("green").style.display = "block";
            document.getElementById("td").style.display = "none";
            document.getElementById("ict").style.display = "none";
            document.getElementById("ct").style.display = "block";
        }

        document.getElementById("addTaskButton").addEventListener("click", addTask);
        document.getElementById("clear").addEventListener("click", clearList);
        document.getElementById("showAllTasks").addEventListener("click", showAllTasks);
        document.getElementById("showRed").addEventListener("click", showRed);
        document.getElementById("showGreen").addEventListener("click", showGreen);
        document.getElementById("green").style.display = "none";
        document.getElementById("red").style.display = "none";
        document.getElementById("list").style.display = "block";
        document.getElementById("td").style.display = "block";
        document.getElementById("ct").style.display = "none";
        document.getElementById("ict").style.display = "none";

    </script>
</body>

</html>